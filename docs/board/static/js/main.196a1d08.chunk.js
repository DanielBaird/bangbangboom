(this.webpackJsonpboard=this.webpackJsonpboard||[]).push([[0],[,,,,,,,,,,,function(a,e,t){a.exports={sqrt3:"1.73205",side:"130px",gutter:"17px",endsize:"1.5",sidec:"#eef",insidec:"rgba(200,200,200,0.2)",grids:"32.5px",gridc:"#e3e3e3",basefont:"13px"}},,,,,,,,function(a,e,t){var n=t(32),l=t(33),i=l.log,s=l.mention;function r(a,e){s(" / ".concat(a.title||e),2);var t=[];return a.edges.forEach((function(e,n){t=(t=(t=t.concat(p("head"))).concat(c(a,e))).concat(p("foot")),n>0&&s(".")})),t}function c(a,e){var t=[];return t="blank"===a.type?t.concat(d(a.edges[0],a)):(t=(t=(t=(t=t.concat(function(a){var e=[];a.pretitle&&e.push("<small>".concat(a.pretitle,"</small>"));e.push("".concat(a.title)),a.posttitle&&e.push("<small>".concat(a.posttitle,"</small>"));a.type&&e.push('<div class="type"><span>'.concat(a.type,"</span></div>"));return f(e,"title")}(a))).concat(d(e,a))).concat(function(a){return a.desc?f(["<p>".concat(a.desc,"</p>")],"description"):[]}(a))).concat(function(a){return a.detail?f(["<p>".concat(a.detail,"</p>")],"detail"):[]}(a))).concat(function(a){var e=[];a.tags&&(e.push("<p>"),e.push(a.tags.join(" \xb7 ")),e.push("</p>"));return f(e,"footer")}(a))}function d(a,e){var t=[],n="n ne se s sw nw".split(" ");return a.forEach((function(a,e){t=t.concat(function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=[];t.push('<div class="hexedge '.concat(e,'">')),a.length>0&&(t=(t=t.concat('<span class="edgearrow">\u2b06</span>')).concat(a));return t.push("</div>"),t}(a,n[e]))})),t}function o(a){return{head:["<html>","<head>",'<meta name="viewport" content="width=device-width, user-scalable=no" />','<link href="https://fonts.googleapis.com/css2?family=PT+Sans+Narrow:wght@400;700&family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">','<link href="https://fonts.googleapis.com/css2?family=Amarante&display=swap" rel="stylesheet">','<link href="https://fonts.googleapis.com/css2?family=Rakkas&display=swap" rel="stylesheet">','<link href="https://fonts.googleapis.com/css2?family=Mirza:wght@400;500;600;700&display=swap" rel="stylesheet">','<link href="https://fonts.googleapis.com/css2?family=Berkshire+Swash&display=swap" rel="stylesheet">','<link href="./Rpg-Awesome-master/css/rpg-awesome.min.css" rel="stylesheet">','<link rel="stylesheet" type="text/css" href="./hexes.css" />',"</head>","<body>",'<div class="wrapper">'],foot:["</div>","</body>","</html>"]}[a]}function p(a){return{head:['<div class="hex">'],foot:["</div>"]}[a]}function f(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=[];return t.push('<div class="hexrow '.concat(e,'">')),(t=t.concat(a)).push("</div>"),t}e.makeHexes=function(a,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=[];for(var s in l=l.concat(o("head")),i("Building ".concat(Object.keys(a).length," types of hexes...")),a){var c=a[s];t.single&&(c.tags=c.tags||[],c.tags.push(""+c.edges.length),c.edges=[c.edges[0]]);var d=r(c,s);l=l.concat(d)}l=l.concat(o("foot")),i("writing to ".concat(e)),n.writeFileSync(e,l.join("\n"))},e.hexBody=c},function(a){a.exports=JSON.parse('{"blank":{"id":"blank","type":"blank","edges":[["","","","","",""]]},"impassable":{"id":"impassable","type":"impassable","pretitle":"","title":"Nope","posttitle":"","desc":"You ran out of map hexagons so you can\'t travel here.","edges":[["","","","","",""]]},"start":{"id":"start","type":"start","pretitle":"","title":"Main Gate","posttitle":"","desc":"Where adventure begins!","detail":"","tags":["peaceful"],"edges":[["wall","farmland","farmland","wall","city","city"]]},"gate":{"id":"gate","type":"wall","pretitle":"","title":"Minor Gate","posttitle":"","desc":"Connecting city and countryside","detail":"","tags":["peaceful"],"edges":[["wall","farmland","farmland","wall","city","city"],["wall","farmland","farmland","wall","city","city"]]},"wallConstruction":{"id":"wallConstruction","type":"wall","pretitle":"","title":"Wall","posttitle":"Under Repair","desc":"This section of City Wall is being broken down and rebuilt.","detail":"Though heavily guarded, an adventurer like you can sneak across.","tags":["peaceful"],"edges":[["wall","farmland","farmland","wall","city","city"]]},"wallNS":{"id":"wallNS","type":"wall","pretitle":"","title":"City Wall","posttitle":"","tags":["impassable","peaceful"],"desc":"Tall and imposing, the City\'s wall stretches as far as you can see.","detail":"You cannot cross the wall without a special ability or magical item.","edges":[["wall","farmland","farmland","wall","city","city"],["wall","farmland","farmland","wall","city","city"],["wall","farmland","farmland","wall","city","city"],["wall","farmland","farmland","wall","city","city"],["wall","farmland","farmland","wall","city","city"]]},"farms":{"id":"farms","type":"farmland","pretitle":"","title":"Small Farms","posttitle":"","desc":"Friendly farms dot the open countryside.","tags":["peaceful"],"edges":[["farmland","farmland","farmland","farmland","farmland","farmland"],["farmland","farmland","farmland","farmland","farmland","farmland"],["farmland","farmland","farmland","farmland","farmland","farmland"],["farmland","plains","farmland","farmland","farmland","farmland"],["farmland","farmland","plains","farmland","farmland","farmland"],["farmland","plains","plains","farmland","farmland","farmland"]]},"farmlarge":{"id":"farmlarge","type":"farmland","pretitle":"","title":"Farm","posttitle":"","desc":"A farmhouse overlooks a broad expanse of fields.","tags":["peaceful"],"edges":[["farmland","farmland","farmland","farmland","farmland","farmland"],["farmland","plains","farmland","farmland","farmland","farmland"],["farmland","farmland","plains","farmland","farmland","farmland"],["farmland","plains","plains","farmland","farmland","farmland"]]},"farmlake":{"id":"farmlake","type":"farmland","pretitle":"","title":"Peaceful Lake","posttitle":"","desc":"A picturesque lake surrounded by fields.","tags":["peaceful","water"],"edges":[["farmland","farmland","farmland","farmland","farmland","farmland"],["farmland","plains","farmland","farmland","farmland","farmland"],["farmland","farmland","plains","farmland","farmland","farmland"]]},"farmgrove":{"id":"farmgrove","type":"farmland","pretitle":"","title":"Grove","posttitle":"","desc":"A grove of trees.","tags":["peaceful","wooded"],"edges":[["farmland","farmland","farmland","farmland","farmland","farmland"]]},"farminn":{"id":"farminn","type":"farmland","pretitle":"","title":"Farmer\'s Inn","posttitle":"","desc":"A meetingplace for local workers.","detail":"You can rest here and restore 1 heart","tags":["peaceful","shelter"],"edges":[["farmland","farmland","farmland","farmland","farmland","farmland"],["farmland","plains","farmland","farmland","farmland","farmland"],["farmland","farmland","plains","farmland","farmland","farmland"]]},"plains":{"id":"plains","type":"plains","pretitle":"","title":"Open Plain","posttitle":"","desc":"Untamed land overgrown with wild grasses.","tags":[],"edges":[["plains","plains","plains","plains","plains","plains"],["plains","plains","plains","plains","plains","plains"],["plains","plains","plains","plains","plains","plains"],["plains","plains","plains","plains","plains","plains"],["plains","plains","plains","plains","plains","plains"]]},"plainsfarm":{"id":"plainsfarm","type":"plains","pretitle":"","title":"Remote Farm","posttitle":"","desc":"A brave farmer survives in the wilderness.","tags":[],"edges":[["plains","plains","plains","plains","plains","plains"],["plains","plains","plains","plains","plains","plains"]]},"plainsinn":{"id":"plainsinn","type":"plains","pretitle":"","title":"Traveller\'s Inn","posttitle":"","desc":"A respite for weary travellers.","detail":"You can rest here and restore 1 heart","tags":["peaceful","shelter"],"edges":[["plains","plains","plains","plains","plains","plains"],["plains","plains","plains","plains","plains","plains"]]},"plainsmarsh":{"id":"plainsmarsh","type":"plains","pretitle":"","title":"Marsh","posttitle":"","desc":"A mosquito-ridden marsh, dismal and wet.","tags":["water"],"edges":[["plains","plains","plains","plains","plains","plains"],["plains","plains","plains","plains","plains","plains"]]},"citytavern":{"id":"citytavern","type":"city","pretitle":"Run-down","title":"Tavern","posttitle":"","desc":"A dilapidated tavern with a faded, unreadable sign","detail":"If you survive your encounter here, you can rest and restore 1 heart","tags":["shelter"],"edges":[["city","city","city","city","city","city"],["city","city","city","city","city","city"]]},"cityalleys":{"id":"cityalleys","type":"city","pretitle":"","title":"Back Alleys","posttitle":"","desc":"Twisted alleys filled with shadows and danger.","tags":[],"edges":[["city","city","city","city","city","city"],["city","city","city","city","city","city"]]},"armourer":{"id":"armourer","type":"city","pretitle":"","title":"Armourer","posttitle":"","desc":"A large smithy producing weapons and armour.","tags":[],"edges":[["city","city","city","city","city","city"],["city","city","city","city","city","city"]]}}')},,,function(a,e,t){a.exports=t(37)},,,,,function(a,e,t){},,function(a,e,t){},function(a,e,t){a.exports={sqrt3:"1.73205",side:"130px",gutter:"17px",endsize:"1.5",sidec:"#eef",insidec:"rgba(200,200,200,0.2)",grids:"32.5px",gridc:"#e3e3e3",basefont:"13px"}},,function(a,e,t){(function(e){var t=!1;a.exports={log:function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t&&(console.log(""),t=!1),console.log(""+"    ".repeat(e)+a)},mention:function(a){e.stdout.write(a),t=!0}}}).call(this,t(34))},,function(a,e,t){a.exports={sqrt3:"1.73205",side:"130px",gutter:"17px",endsize:"1.5",sidec:"#eef",insidec:"rgba(200,200,200,0.2)",grids:"32.5px",gridc:"#e3e3e3",basefont:"13px"}},function(a,e,t){a.exports={sqrt3:"1.73205",side:"130px",gutter:"17px",endsize:"1.5",sidec:"#eef",insidec:"rgba(200,200,200,0.2)",grids:"32.5px",gridc:"#e3e3e3",basefont:"13px"}},function(a,e,t){"use strict";t.r(e);var n=t(0),l=t.n(n),i=t(14),s=t.n(i),r=(t(28),t(2)),c=t(12),d=(t(30),t(31),t(11)),o=t.n(d),p=t(18),f=t(19),m=t(20),u={farmland:"plains"},y=["blank","impassable","start"],g={};function h(a){console.log("providing a ".concat(a," hex"));for(var e=null,t=a;null===e&&(e=v(t),u[t]);)t=u[t];return null===e&&(e=v("impassable")),e}function v(a){if("blank"===a||"impassable"===a)return g[a][0];if(g[a]&&g[a].length){var e=~~(Math.random()*g[a].length);return g[a].splice(e,1)[0]}return console.log("ran out of ".concat(a)),null}function w(a){return Object(f.hexBody)(a,a.edgeList).join("\n")}function x(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=Object.keys(g).filter((function(e){return a||!y.includes(e)})),t=e.map((function(a){return{type:a,remaining:g[a].length,fallback:u[a]}}));return t}Object.entries(m).forEach((function(a){var e=Object(r.a)(a,2),t=(e[0],e[1]);g[t.type]=g[t.type]||[],t.edges.forEach((function(a){var e=Object(p.a)({},t);e.edgeList=a,g[t.type].push(e)}))}));t(35);function b(a){var e=a.hex,t=a.selected,n=void 0!==t&&t,i=a.offset,s=a.onClick,r=e.toPoint().subtract(i),c=r.x,d=r.y,o=["hex",e.data.id];return n&&o.push("selected"),l.a.createElement("div",{className:o.join(" "),style:{left:"".concat(c,"px"),top:"".concat(d,"px")},onClick:s,dangerouslySetInnerHTML:{__html:w(e.data)}})}function k(a){var e=a.grid,t=a.loc,i=a.clickHex,s=parseInt(o.a.side,10),r={x:-1*s,y:-.5*s};if(Object(n.useEffect)((function(){var a=document.querySelector(".scrollwrapper"),e=document.querySelector(".hex.selected");a&&e&&a.scroll({top:e.offsetTop-a.clientHeight/2+e.clientHeight/2,left:e.offsetLeft-a.clientWidth/2+e.clientWidth/2,behavior:"smooth"})}),[e,t]),e){var c=e.map((function(a,e){var n=a.coordinates(),s=t.x===n.x&&t.y===n.y;return l.a.createElement(b,{key:e,hex:a,selected:s,offset:r,onClick:function(){i(a.coordinates())}})})),d=e.pointWidth()+s,p=e.pointHeight()+s;return l.a.createElement("div",{className:"scrollwrapper"},l.a.createElement("div",{className:"hexboard",style:{width:"".concat(d,"px"),height:"".concat(p,"px")}},c))}return"loading..."}t(36);function E(a){var e=a.statuses.map((function(a){return l.a.createElement(j,Object.assign({key:a.type},a))}));return l.a.createElement("div",{className:"hexstacks"},e)}function j(a){return l.a.createElement("div",{className:"stack"},l.a.createElement(N,{count:a.remaining}),l.a.createElement(O,{title:a.type}))}function O(a){var e=a.title;return l.a.createElement("div",{className:"stacktitle"},e)}function N(a){var e=a.count,t=Array(e).fill("").map((function(a,e){return l.a.createElement("div",{className:"stacklayer",key:e})}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"stackgraph"},t,l.a.createElement("div",{className:"stackcount"},e)))}var S=parseInt(o.a.side,10),A={x:20,y:20},W=c.b({size:S,orientation:"flat"}),C=c.a(W);var T=function(){var a=Object(n.useState)(null),e=Object(r.a)(a,2),t=e[0],i=e[1],s=Object(n.useState)(A),c=Object(r.a)(s,2),d=c[0],o=c[1],p=Object(n.useReducer)((function(a){return a+1}),0),f=Object(r.a)(p,2),m=(f[0],f[1]);return Object(n.useEffect)((function(){var a=C.rectangle({width:2*A.x,height:2*A.y,onCreate:function(a){a.data=a.data||h("blank")}});a.set([A.x,A.y],W(A.x,A.y,{data:h("start")})),i(a)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(E,{statuses:x()}),l.a.createElement(k,{grid:t,loc:d,clickHex:function(a){var e=t.get(d),n=t.get(a),l=t.neighborsOf(e,["N","NE","SE","S","SW","NW"]).findIndex((function(a){return a===n}));if(!(l<0)){var s=null;if("blank"===n.data.type){var r=e.data.edgeList[l];a.x===A.x&&(r="wall"),s=W(a.x,a.y,{data:h(r)}),t.set([a.x,a.y],s),console.log("newhex is "+s.data.type),i(t),n=s,console.log("clicked hex "+n.data.type)}console.log(n.data.type),"impassable"!==n.data.type?o(a):m()}}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(a){a.unregister()})).catch((function(a){console.error(a.message)}))}],[[23,1,2]]]);
//# sourceMappingURL=main.196a1d08.chunk.js.map